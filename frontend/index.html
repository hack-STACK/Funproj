<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be Mine? Super Cute 3D</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Poppins:wght@400;600;700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <!-- Floating Hearts Background -->
  <div class="floating-hearts"></div>

  <!-- 3D Card Container -->
  <div class="scene">
    <div class="card" id="loveCard">

      <!-- Front: Intro -->
      <section id="intro" class="screen active">
        <div class="heart-burst">😛</div>
        <h1 class="title neon-text">
          <span class="wave">🖐️</span> Hey <span class="gradient-text">kamu</span>!
        </h1>
        <p class="subtitle">Boleh aku nanya sesuatu yang <span class="highlight">super spesial</span>?</p>
        <input id="nama" type="text" placeholder="Siapa namamu, zheyeng?" class="input-glow" autofocus />
        <button onclick="startQuestions()" class="btn-love btn-3d">
          <span>Boleh dong!</span>
        </button>
      </section>

      <!-- Back: Quiz -->
      <section id="quiz" class="screen">
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
          <p class="progress-text">Pertanyaan <span id="question-number">1</span>/6</p>
        </div>

        <div class="question-box">
          <p id="question-text" class="question"></p>
          <div class="emoji-reaction"></div>
        </div>

        <!-- Yes/No Buttons -->
        <div class="btn-group" id="yesno-group">
          <button onclick="answerYes()" class="yes btn-3d">
            <span>Iya 😋</span>
          </button>
          <button id="no-btn" onclick="answerNo()" class="no btn-3d">
            <span>Enggak 🥲</span>
          </button>
        </div>

        <!-- Text Input -->
        <div id="text-group" class="text-input hidden">
          <input id="text-answer" type="text" placeholder="Tulis di sini..." class="input-glow" />
          <button onclick="submitTextAnswer()" class="btn-next btn-3d">
            <span>Lanjut 👉</span>
          </button>
        </div>

        <!-- No Drama -->
        <div id="no-message" class="no-drama hidden">
          <p>Yah, jangan gitu dong!</p>
        </div>
      </section>

      <!-- Final -->
      <section id="final" class="screen">
        <div class="love-letter">
          <h2>Terima kasih, <span id="finalName"></span>!</h2>
          <p class="final-text">
            Ikan hiu makan tomat,<br>
            makasih udah jawab semua pertanyaan aku Love letter
          </p>
          <div class="signature">— Dengan cinta, <strong>Juan</strong></div>
        </div>
        <button onclick="restart()" class="btn-restart btn-3d">Main Lagi?</button>
      </section>
    </div>
  </div>

  <!-- Confetti -->
  <canvas id="confetti-canvas"></canvas>

  <!-- Sound Toggle -->
  <div class="sound-toggle">
    <button onclick="toggleSound()" id="soundBtn" class="btn-3d">Sound on</button>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <span class="made-with">
        Made with
        <span class="heart-pulse">❤️</span>
        by
        <a href="https://www.instagram.com/juwannqt/" target="_blank" class="instagram-link">
          @juwannqt
        </a>
      </span>
    </div>
  </footer>

  <!-- Audio -->
  <audio id="popSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3"
    preload="auto"></audio>
  <audio id="loveSound" src="https://assets.mixkit.co/sfx/preview/mixkit-heart-beat-747.mp3" preload="auto"></audio>
  <audio id="noSound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-918.mp3"
    preload="auto"></audio>

  <!-- Confetti CDN -->
  <!-- Hapus script Firebase yang lama dan ganti dengan: -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-analytics.js"></script>

  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBZ5UsshCljRiL5QeXCkGwhafQ0SeQDM00",
      authDomain: "askherout-e602e.firebaseapp.com",
      projectId: "askherout-e602e",
      storageBucket: "askherout-e602e.firebasestorage.app",
      messagingSenderId: "1030360510857",
      appId: "1:1030360510857:web:d1b422f31f853c30097158",
      measurementId: "G-L7S22PFTGX"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    // Initialize global variables
    window.db = firebase.firestore();
    window.analytics = firebase.analytics();

    console.log("Firebase initialized successfully!");
  </script>
  </script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="script.js"></script>
</body>

</html>